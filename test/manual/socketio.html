<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <link rel="stylesheet" href="/test/css/mocha.css" />
    
    <title>Socket.io Server Tests</title>
    
    <script src="/socket.io/socket.io.js"></script>
    
    <script src="/lib/toubkal-min.js"></script>
  </head>
  
  <body>
    <div id="socketio_test">
      <h2>Socket.io Server Tests</h2>
      
      <div id="source"></div>
    </div>
    
    <script>
      var RS = rs.RS, $ = RS.$;
      
      rs.set( [
          { id: 1 },
          { id: 2 },
          { id: 3 }
        ], { name: 'client-set-source' } )
        
        .set_flow( 'client_set' )
        
        //.set( [], { name: 'client-set' } )
        
        .trace( 'to socket io server' )
        
        .socket_io_server()
        
        .trace( 'from socket io server' )
        
        .flow( 'source' )
        
        .order( [ { id: 'id', descending: true } ] )
        
        .table( $( '#source' ), [ { id: 'flow' }, { id: 'id' } ] )
      ;
    </script>
  </body>
</html>
